<%- include('../partials/header.ejs') %>
<%- include('../partials/main_nav.ejs') %>

<!-- Main Content -->
<main>
    <div class="jumbotron jumbotron-fluid flex-shrink-0 py-5">

        <!-- DISPLAYS "assignments" COLLECTION -->
        <div class="container bg-dark border rounded border-0 p-4 p-md-5 bg-opacity-100 overflow-hidden">

            <h1 style="color: var(--bs-white);"><%= title %></h1>

            <a href="/assignment-list/add" class="btn btn-success btn-lg mb-4" role="button">Add Assignment</a>
            
            <div class="table-responsive">

                <table class="table table-hover table-dark">
                    <thead class="text-center">
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Class</th>
                            <th scope="col">Title</th>
                            <th scope="col">Description</th>
                            <th scope="col">Weight</th>
                            <th scope="col">Due Date</th>
                            <td scope="col" id="editHeader"></td>
                            <td scope="col" id="deleteHeader"></td>
                        </tr>
                    </thead>

                    <tbody class="text-center align-middle">

                        <!-- loops through assignment collection, displaying each document -->
                        <% for(let count=0; count < assignmentsList.length; count++) { %>
                        <tr>
                            <!-- display column number -->
                            <td scope="col"><%= count+1 %></th>
                            <!-- display assignment documents -->
                            <td scope="col"><%= assignmentsList[count].course %></td>
                            <td scope="col"><%= assignmentsList[count].title %></td>
                            <td scope="col"><%= assignmentsList[count].description %></td>
                            <td scope="col"><%= assignmentsList[count].weight %></td>
                            <td scope="col"><%= assignmentsList[count].due %></td>

                            <!-- Edit and Delete buttons used for delete and edit operations -->
                            <td scope="col"><a href="/assignment-list/edit/<%= assignmentsList[count]._id %>" class="btn btn-primary" role="button">Edit</a></td>
                            <td scope="col"><a href="/assignment-list/delete/<%= assignmentsList[count]._id %>" class="btn btn-danger" role="button">Delete</a></td>                      
                        </tr>
                        <% } %>

                    </tbody>

                </table>
            </div>

        </div>
    </div>
</main>
<%- include ('../partials/bottom_nav.ejs') %>
<%- include ('../partials/footer.ejs') %>